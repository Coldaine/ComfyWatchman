# Static Dashboard Specification

## Overview
This document specifies the requirements for the static HTML dashboard, which will provide a user-friendly, at-a-glance view of workflow readiness.

## Core Principles
*   **Static & Local:** The dashboard must be a single `index.html` file that can be opened directly in a web browser. It will not require a web server.
*   **Data-Driven:** The dashboard will be populated by reading from a JSON file (`output/reports/workflows/index.json`) that is regenerated by the health check scheduler.
*   **No Build Tools:** The dashboard should be created using vanilla HTML, CSS, and JavaScript. No npm, webpack, or other build tools are to be used.

## Layout and Content

### Header
*   **Title:** "ComfyWatchman - Workflow Status Dashboard"
*   **Last Updated:** A timestamp indicating when the `index.json` data was generated.
*   **Summary Stats:**
    *   Total Workflows: [Number]
    *   Runnable: [Number]
    *   Missing Dependencies: [Number]

### Controls
*   **Filter by Status:** A set of buttons or a dropdown to filter the workflow list (e.g., "All", "Runnable", "Missing Dependencies").
*   **Search:** A text input to filter workflows by name.

### Workflow List
This will be the main content area, displaying a card for each workflow.

#### Workflow Card
Each card will represent a single workflow and will contain the following information:

*   **Workflow Name:** The filename of the workflow (e.g., `turbo-upscale-x4.json`).
*   **Status Badge:** A colored badge indicating the workflow's status:
    *   **游릭 Runnable:** All dependencies are met.
    *   **游댮 Missing Dependencies:** One or more models or custom nodes are missing.
    *   **游리 UNCERTAIN (Phase 2):** The system has found candidates for missing models, but requires user confirmation.
*   **Missing Dependencies List (if applicable):**
    *   A list of the missing model filenames and custom node names.
    *   For Phase 2, this will also include a "Resolve" button next to each missing model that has candidates.
*   **Details:** A collapsible section or a link to the detailed Markdown report for that workflow.

## Data Visualization
*   A simple pie chart or bar chart at the top of the page visualizing the summary stats (e.g., % of runnable vs. missing). This can be implemented with a lightweight, dependency-free JS charting library or with pure CSS.

## Interactivity
*   **Filtering:** Clicking the status filters should instantly update the displayed list of workflow cards.
*   **Searching:** Typing in the search box should filter the list of workflows in real-time.
*   **Client-Side Logic:** All filtering and searching will be done client-side in JavaScript by manipulating the DOM.

## Refresh Strategy
The dashboard will not auto-refresh. The user will need to refresh the page in their browser to see the latest status after a new health check cycle has completed. The "Last Updated" timestamp will make it clear when the data was last generated.

## Mockup (ASCII)

```
+-----------------------------------------------------------------------------+
| ComfyWatchman - Workflow Status Dashboard                                   |
| Last Updated: 2025-10-30 23:00:00                                           |
+-----------------------------------------------------------------------------+
|                                                                             |
|  [ Total: 50 ] [ Runnable: 45 ] [ Missing: 5 ]                              |
|                                                                             |
|  Filters: [ All ] [ Runnable ] [ Missing ]   Search: [__________________]   |
|                                                                             |
+-----------------------------------------------------------------------------+
|                                                                             |
|  +-----------------------------------------------------------------------+  |
|  | upscale-x4.json                              [ 游릭 Runnable ]         |  |
|  +-----------------------------------------------------------------------+  |
|  | another-workflow.json                        [ 游릭 Runnable ]         |  |
|  +-----------------------------------------------------------------------+  |
|  | realistic-vision.json                        [ 游댮 Missing ]          |  |
|  |-----------------------------------------------------------------------|  |
|  | Missing Models:                                                       |  |
|  | - realistic_vision_v5.safetensors                                     |  |
|  | Missing Nodes:                                                        |  |
|  | - ImpactPack                                                          |  |
|  +-----------------------------------------------------------------------+  |
|                                                                             |
+-----------------------------------------------------------------------------+
```
